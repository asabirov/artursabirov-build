<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Артур Сабиров</title>
  <subtitle>Все разделы</subtitle>
  <updated>2014-04-04T04:13:00Z</updated>
  <author>
    <name>Артур Сабиров</name>
  </author>
  <entry>
    <title>YSpell</title>
    <link rel="alternate" href="http://artursabirov.ru/dev/2014/04/04/yspell/"/>
    <id>http://artursabirov.ru/dev/2014/04/04/yspell/</id>
    <published>2014-04-04T04:13:00Z</published>
    <updated>2014-04-04T04:13:00Z</updated>
    <author>
      <name>Артур Сабиров</name>
    </author>
    <content type="html">&lt;p&gt;На днях собрал простую утилиту для проверки орфографии в прямо терминале. В деле выглядит она так:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Проверка файла" src="http://artursabirov.ru/dev/2014/04/04/yspell/yspell.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;Проверка строки:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Проверка строки" src="http://artursabirov.ru/dev/2014/04/04/yspell/yspell2.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;Тексты проверяются через &lt;a href="http://artursabirov.ruhttp://api.yandex.ru/speller/"&gt;Yandex Speller&lt;/a&gt;, для русскоязычных текстов он мне он показался лучше, чем ispell, более того не нужно возиться со словарями.
YSpell можно использовать как консольную утилиту, так и подключить в виде библиотеки.&lt;/p&gt;

&lt;h2 id="section"&gt;Установка&lt;/h2&gt;

&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;yspell&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;Если жe в Gemfile&lt;/p&gt;

&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'yspell'&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="yspell"&gt;Консольная утилита yspell&lt;/h2&gt;

&lt;pre class="highlight shell"&gt;Использование: yspell TEXT &lt;span class="o"&gt;[&lt;/span&gt;OPTIONS]

Options
      --file FILE              Путь до файла
  -l, --language LANG          В каких словарях проверять текст.
                               Доступны: ru, en и uk &lt;span class="o"&gt;(&lt;/span&gt;по-умолчанию проверяются в русском и английском, &lt;span class="s2"&gt;"ru,en"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  -f, --format FORMAT          Формат проверяемого файла &lt;span class="o"&gt;(&lt;/span&gt;html или plain&lt;span class="o"&gt;)&lt;/span&gt;
  -s, --suggestions POSITION   Где показывать подсказки
                               inline — рядом, after - после текста, none — не показывать
  -v, --verbose                Показ процесса проверки
  -h, --help                   Показ справки
&lt;/pre&gt;

&lt;h2 id="yspell-1"&gt;Библиотека YSpell&lt;/h2&gt;

&lt;pre class="highlight ruby"&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;'yspell'&lt;/span&gt;

&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;YSpell&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Client&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;new&lt;/span&gt;
&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;check&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'sme text to chck'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;
    &lt;span class="c1"&gt;#&amp;lt;YSpell::SpellError::UnknownWord:0x007f92a9156a38 @position=0, @row=0, @column=0, @length=3, @word="sme", @suggestions=["some", "me"], @code=1&amp;gt;,&lt;/span&gt;
    &lt;span class="c1"&gt;#&amp;lt;YSpell::SpellError::UnknownWord:0x007f92a9156808 @position=13, @row=0, @column=13, @length=4, @word="chck", @suggestions=["check", "chick", "chuck"], @code=1&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="repo"&gt;Repo&lt;/h2&gt;

&lt;p&gt;&lt;a href="http://artursabirov.ruhttps://github.com/asabirov/yspell"&gt;https://github.com/asabirov/yspell&lt;/a&gt;&lt;/p&gt;

</content>
  </entry>
  <entry>
    <title>Обновление блога</title>
    <link rel="alternate" href="http://artursabirov.ru/life/2014/04/02/blog-update/"/>
    <id>http://artursabirov.ru/life/2014/04/02/blog-update/</id>
    <published>2014-04-02T06:49:00Z</published>
    <updated>2014-04-02T06:49:00Z</updated>
    <author>
      <name>Артур Сабиров</name>
    </author>
    <content type="html">&lt;p&gt;Обновил блог. Старый свою роль отыграл, а движок enki оказался чертовски не удобен, что порой отбивало редкое желание что-либо писать.
Кстати, странное явление последних двух лет — из 13 русскоязычных технических блогов в моем ридере живы не более пяти. Исписались?&lt;/p&gt;

&lt;p&gt;Что же касается меня, я по-прежнему работаю в FunBox, в компании сильных разработчиков, за этот период у меня существенно изменилось отношение к ведению блога.
Писать о каких-либо технических бирюльках или програмерских новинках стало не так интересно, к завтрашнему утру они уже никому не интересны.
Чтобы не забрасывать его окончательно, слегка расширю спектр тем: былая техническая рубрика уходит в &lt;a href="http://artursabirov.ru/dev"&gt;/dev&lt;/a&gt;, обзоры книг в &lt;a href="http://artursabirov.ru/books"&gt;/books&lt;/a&gt;, а
посты на отвлеченные темы появятся в &lt;a href="http://artursabirov.ru/life"&gt;/life&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Соответственно, отдельные RSS:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href="http://artursabirov.ruhttp://feeds.feedburner.com/artursabirov/dev"&gt;http://feeds.feedburner.com/artursabirov/dev&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://artursabirov.ruhttp://feeds.feedburner.com/artursabirov/books"&gt;http://feeds.feedburner.com/artursabirov/books&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://artursabirov.ruhttp://feeds.feedburner.com/artursabirov/life"&gt;http://feeds.feedburner.com/artursabirov/life&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://artursabirov.ruhttp://feeds.feedburner.com/artursabirov"&gt;http://feeds.feedburner.com/artursabirov&lt;/a&gt; общий&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Новый блог, следуя тенденциям, собран на middleman, как оказалось, очень удобный инструмент.
На настройку генератора, оформления и адаптацию статей ушло всего пару дней.
Если кому интересно, исходники  выложил на &lt;a href="http://artursabirov.ruhttp://github.com/asabirov/artursabirov-middleman"&gt;github&lt;/a&gt;.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Rails-footnote и RubyMine</title>
    <link rel="alternate" href="http://artursabirov.ru/dev/2013/01/22/connect-xdebug-backtrace-with-phpstorm-and-foornotes-with-rubymine/"/>
    <id>http://artursabirov.ru/dev/2013/01/22/connect-xdebug-backtrace-with-phpstorm-and-foornotes-with-rubymine/</id>
    <published>2013-01-21T20:00:00Z</published>
    <updated>2013-01-21T20:00:00Z</updated>
    <author>
      <name>Артур Сабиров</name>
    </author>
    <content type="html">&lt;h2 id="phpstorm---xdebug"&gt;PhpStorm  и Xdebug&lt;/h2&gt;

&lt;p&gt;В backtrace'е у XDebug предусмотрен простой переход к нужному файлу и на нужную строку. Только использует он протокол txmt (TextMate), что не пригодно с PhpStorm.&lt;/p&gt;

&lt;p&gt;&lt;img alt="" src="http://artursabirov.ru/dev/2013/01/22/connect-xdebug-backtrace-with-phpstorm-and-foornotes-with-rubymine/xdebug.png" /&gt;&lt;/p&gt;

&lt;p&gt;Решение нашел тут: &lt;a href="http://artursabirov.ruhttp://youtrack.jetbrains.com/issue/IDEA-65879"&gt;http://youtrack.jetbrains.com/issue/IDEA-65879&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ставим плагин Remote Call: &lt;a href="http://artursabirov.ruhttp://plugins.jetbrains.net/plugin?pr=webide&amp;amp;amp;pluginId=6027"&gt;http://plugins.jetbrains.net/plugin?pr=webide&amp;amp;pluginId=6027&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;И прописываем в конфиге xdebug:&lt;/p&gt;

&lt;pre class="highlight plaintext"&gt;xdebug.file_link_format = "javascript: var r = new XMLHttpRequest; r.open(\"get\", \"http://localhost:8091?message=%f:%l\");r.send()"

&lt;/pre&gt;

&lt;h2 id="rubymine--rails-footnotes"&gt;RubyMine и Rails Footnotes&lt;/h2&gt;

&lt;p&gt;В Gemfile.rb:&lt;/p&gt;

&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'rails-footnotes'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'&amp;gt;= 3.7.9'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:group&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="ss"&gt;:development&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;$ rails generate rails_footnotes:install&lt;/p&gt;

&lt;p&gt;Добавляем фильтр в config/initializers/rails_footnotes.rb:&lt;/p&gt;

&lt;pre class="highlight ruby"&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;defined?&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="no"&gt;Footnotes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="no"&gt;Rails&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;env&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;development?&lt;/span&gt;
  &lt;span class="no"&gt;Footnotes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;run!&lt;/span&gt; 

  &lt;span class="no"&gt;Footnotes&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Filter&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"javascript: var r = new XMLHttpRequest; r.open('get', 'http://localhost:8091?message=%s:%d:%d');r.send()"&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;/pre&gt;

&lt;p&gt;&lt;img alt="" src="http://artursabirov.ru/dev/2013/01/22/connect-xdebug-backtrace-with-phpstorm-and-foornotes-with-rubymine/footnotes.png" /&gt;&lt;/p&gt;

&lt;h2 id="section"&gt;Ссылки&lt;/h2&gt;

&lt;p&gt;&lt;a href="http://artursabirov.ruhttps://github.com/digidigo/ruby_footprints"&gt;https://github.com/digidigo/ruby_footprints&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="http://artursabirov.ruhttps://github.com/Zolotov/RemoteCall"&gt;https://github.com/Zolotov/RemoteCall&lt;/a&gt;&lt;/p&gt;

</content>
  </entry>
  <entry>
    <title>PostgreSQL 9.0 High Performance</title>
    <link rel="alternate" href="http://artursabirov.ru/dev/2012/04/08/postgres-high-perfomance/"/>
    <id>http://artursabirov.ru/dev/2012/04/08/postgres-high-perfomance/</id>
    <published>2012-04-07T20:00:00Z</published>
    <updated>2012-04-07T20:00:00Z</updated>
    <author>
      <name>Артур Сабиров</name>
    </author>
    <content type="html">&lt;p&gt;Читая книгу &lt;a href="http://artursabirov.ruhttp://www.goodreads.com/book/show/10033368-postgresql-9-0-high-performance,"&gt;PostgreSQL 9.0 High Performance&lt;/a&gt;
выписал некоторые интересные моменты, которые могут оказаться полезными простым разработчикам.&lt;/p&gt;

&lt;h2 id="section"&gt;Полезные команды.&lt;/h2&gt;

&lt;p&gt;EXPLAIN ANALYZE [sql] — анализ выполненного запроса (используемые ноды, время выполнения, использование индексов).&lt;/p&gt;

&lt;p&gt;VACUUM — дефрагментация базы. Можно запускать, если отключен autovacuum. Рекомендуется выполнять после большого удаления данных.&lt;/p&gt;

&lt;p&gt;REINDEX INDEX [index_name] — перестройка индекса.&lt;/p&gt;

&lt;p&gt;REINDEX TABLE [table_name] — перестройка индексов всей таблицы.&lt;/p&gt;

&lt;h2 id="section-1"&gt;Анализаторы логов&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href="http://artursabirov.ruhttp://pgfouine.projects.postgresql.org/,"&gt;pgFouine&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://artursabirov.ruhttp://bucardo.org/wiki/Pgsi,"&gt;pgsi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="http://artursabirov.ruhttp://www.maatkit.org/doc/mk-query-digest.html"&gt;mk-query-digest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;pgFouine — наиболее удобный, хоть и требует веб-сервер для запуска.&lt;/p&gt;

&lt;h2 id="section-2"&gt;Рекомендации по использованию индексов&lt;/h2&gt;

&lt;p&gt;Ставьте индексы на поля, по которым происходит поиск или сортировка.&lt;/p&gt;

&lt;p&gt;Исключите использование ненужных индексов (найти их поможет EXPLAIN ANALYZE)&lt;/p&gt;

&lt;h2 id="section-3"&gt;Индексы&lt;/h2&gt;

&lt;p&gt;B-Tree – индекс по-умолчанию. Подходит для всех типов.&lt;/p&gt;

&lt;p&gt;Hash — эффективен при поиске по равенству: column_name = 'value'.&lt;/p&gt;

&lt;p&gt;GIN — дает быстрый поиск, но долгое обновление при INSERT. Применим для полнотекстового поиска.&lt;/p&gt;

&lt;p&gt;GiST — для полнотекстового поиска. Быстрый поиск, но долгое обновление индекса. Так же применим для полнотекстового поиска.&lt;/p&gt;

&lt;p&gt;При поиске с использованием LIKE или POSIX задать специальный параметр: &lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;INDEX&lt;/span&gt; &lt;span class="n"&gt;index_name&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;column_name&lt;/span&gt; &lt;span class="n"&gt;varchar_pattern_ops&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;Для других типов: text_pattern_ops, bpchar_pattern_ops, name_pattern_ops.&lt;/p&gt;

&lt;h2 id="section-4"&gt;Составной индекс&lt;/h2&gt;

&lt;p&gt;При поиске по по двум и более колонкам можно использовать составной индекс:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;INDEX&lt;/span&gt; &lt;span class="n"&gt;index_name&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;col_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col_2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="section-5"&gt;Частичный индекс&lt;/h2&gt;

&lt;p&gt;В случае, если поиск совершается только по какому-то одному значению:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;INDEX&lt;/span&gt; &lt;span class="n"&gt;index_name&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="k"&gt;table&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="k"&gt;column_name&lt;/span&gt; &lt;span class="k"&gt;IS&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="section-6"&gt;Сортировка индексов&lt;/h2&gt;

&lt;p&gt;При сортировке по индексу в одну сторону, например DESC, можно настроить и сам индекс:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;INDEX&lt;/span&gt; &lt;span class="n"&gt;index_name&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt;  &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;column_name&lt;/span&gt; &lt;span class="k"&gt;DESC&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;Если имеются значения NULL, можно подвинуть их в начало:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;INDEX&lt;/span&gt; &lt;span class="n"&gt;index_name&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt;  &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;column_name&lt;/span&gt; &lt;span class="n"&gt;NULLS&lt;/span&gt; &lt;span class="k"&gt;FIRST&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;По умолчанию значения NULL хранятся в конце.&lt;/p&gt;

&lt;h2 id="section-7"&gt;Обработка значений в индексе&lt;/h2&gt;

&lt;p&gt;Если в запросах используются функции:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="k"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;column_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'x'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;Можно подготовить значения и в самом индексе:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;INDEX&lt;/span&gt; &lt;span class="n"&gt;index_name&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;column_name&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt; 
&lt;/pre&gt;

&lt;h2 id="offset-0"&gt;OFFSET 0&lt;/h2&gt;

&lt;p&gt;Использование «OFFSET 0» ускорит выполнение вложенных запросов:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prod_id&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;orderlines&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="k"&gt;EXISTS&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;customers&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt; &lt;span class="k"&gt;USING&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;customerid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orderid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orderid&lt;/span&gt; &lt;span class="k"&gt;OFFSET&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;AND&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orderdate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'2004-12-01'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="select-count"&gt;Ускорение SELECT count(*)&lt;/h2&gt;

&lt;p&gt;В PostgreSQL, в отличии от других БД, медленный подсчет строк.&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;Его можно ускорить, добавив какое-нибудь условие WHERE:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="foreign-keys"&gt;FOREIGN KEYS&lt;/h2&gt;

&lt;p&gt;Добавление и изменение большого количества данных может оказаться медленным из-за использования внешних ключей (FOREIGN KEYS). Поэтому их можно  приглушить до окончания операции:&lt;/p&gt;

&lt;pre class="highlight sql"&gt;&lt;span class="k"&gt;BEGIN&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;SET&lt;/span&gt; &lt;span class="k"&gt;CONSTRAINTS&lt;/span&gt; &lt;span class="k"&gt;ALL&lt;/span&gt; &lt;span class="k"&gt;DEFERRED&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;update&lt;/span&gt; &lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="k"&gt;insert&lt;/span&gt; &lt;span class="n"&gt;statements&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;COMMIT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;
</content>
  </entry>
  <entry>
    <title>JSLint в Sublime Text</title>
    <link rel="alternate" href="http://artursabirov.ru/dev/2012/01/23/sublime-text-jslint-integration/"/>
    <id>http://artursabirov.ru/dev/2012/01/23/sublime-text-jslint-integration/</id>
    <published>2012-01-22T20:00:00Z</published>
    <updated>2012-01-22T20:00:00Z</updated>
    <author>
      <name>Артур Сабиров</name>
    </author>
    <content type="html">&lt;p&gt;Расскажу, как совместить подключить JSLint в  Sublime Text 2.&lt;/p&gt;

&lt;h1 id="cut"&gt;cut&lt;/h1&gt;

&lt;p&gt;Консольный JSLint — &lt;a href="http://artursabirov.ruhttp://www.javascriptlint.com/download.htm"&gt;http://www.javascriptlint.com/download.htm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Создаем новый build-сценарий: Tools → Build Systems → New Build System&lt;/p&gt;

&lt;p&gt;&lt;img alt="" src="http://artursabirov.ru/dev/2012/01/23/sublime-text-jslint-integration/sublime_jslint.png" /&gt;&lt;/p&gt;

&lt;p&gt;Вставляем и настраиваем путь до jslint (windows):&lt;/p&gt;

&lt;pre class="highlight javascript"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
   &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;cmd&lt;/span&gt;&lt;span class="p"&gt;]()&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"d:/lib/jsl/jsl.exe"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"-process"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"$file"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
   &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;selector&lt;/span&gt;&lt;span class="p"&gt;]()&lt;/span&gt;
&lt;span class="s2"&gt;"source.js"&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;/pre&gt;

&lt;p&gt;Сохраняем файл, жмем CTRL+B и смотрим результат.&lt;/p&gt;

&lt;p&gt;&lt;img alt="" src="http://artursabirov.ru/dev/2012/01/23/sublime-text-jslint-integration/sublime_jslint2.png" /&gt;&lt;/p&gt;

</content>
  </entry>
</feed>
