<!DOCTYPE html>
<html dir='ltr' lang='ru-RU'>
  <head>
    <meta charset='utf-8'>
    <title>Workflow в распределенной разработке</title>
    <link href='http://feeds.feedburner.com/artursabirov' rel='alternate' title='ArturSabirov.ru' type='application/rss+xml'>
    <link href="/stylesheets/blog.css" media="screen" rel="stylesheet" type="text/css" />
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <script charset='windows-1251' src='http://vkontakte.ru/js/api/openapi.js?29' type='text/javascript'></script>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="http://feeds.feedburner.com/artursabirov//dev" />
    <script>
      VK.init({apiId: 2348265, onlyWidgets: true});
    </script>
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-24946626-1']);
      _gaq.push(['_trackPageview']);
      
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
    <header>
      <section>
        <h1 id='page_heading'>
          <a href='/'>Блог Артура Сабирова</a>
        </h1>
        <nav>
          <a href="/dev">Разработка</a>
          <a href="/projects">Проекты</a>
          <a href="/books">Книги</a>
          <a href="/life">Жизнь</a>
          <a href="/about">О себе</a>
        </nav>
      </section>
    </header>
    <section id='single-column'>
      <article>
        <h1>Workflow в распределенной разработке</h1>
        <p>В нашей компании, Social Quantum, несколько команд из разных городов, в сумме несколько десятков разработчиков. При этом получается стабильно разрабатывать и запускать новые проекты. Расскажу немного о том, как всё устроено.</p>&#x000A;&#x000A;<h2 id="section">Инструменты</h2>&#x000A;&#x000A;<ul>&#x000A;  <li>Git;</li>&#x000A;  <li>Система управления проектами. У нас используется <a href="http://unfuddle.com,">Unfuddle</a>&#x000A;но я бы не называл его удачным выбором. Можете подобрать себе по вкусу, необходимы будут тикеты, wiki и подсчет времени (estimates). И не менее полезным будет хостинг репозиториев, привязки коммитов к тикету и тикетами друг с другом (assigns);</li>&#x000A;  <li>Skype.</li>&#x000A;</ul>&#x000A;&#x000A;<h2 id="section-1">Роли</h2>&#x000A;&#x000A;<p>Каждый проект курирует один человек — руководитель проекта. Он занимается проектированием архитектуры, составлением и разделением задач по командам.&#x000A;В каждой команде присутствует один ведущий разработчик (DevLead). В идеале руководитель не должен давать прямых указаний разработчикам. Его задача раздавать и принимать задачи в команде.&#x000A;Разработчики, дизайнеры, тестеры и т.д.</p>&#x000A;&#x000A;<h2 id="section-2">Разработка</h2>&#x000A;&#x000A;<p>Продемонстрирую на примере.</p>&#x000A;&#x000A;<ul>&#x000A;  <li>Руководитель создает тикет (задачу), назовем её «Разработать систему приема платежей ВКонтакте» и направляет девлиду;</li>&#x000A;  <li>Лид детально дополняет детали реализации, выставляет сроки (initial estimates) и отправляет задачу члену команды;</li>&#x000A;  <li>Разработчик принимает тикет, в рабочем репозитории создает отдельную ветку (git checkout -b branchname), в качестве имени используется номер тикета;</li>&#x000A;  <li>Во время работы разработчик отчитывается по каждому этапу в тайм-трекере. Например, «изучил API ВКонтакте — 1 час», «написал класс VKPayment — 2 час» и «написал спеки и протестировал — 3 часа»;</li>&#x000A;  <li>Бранч отправляется в общий репозиторий (git push origin branchname), выставляет в тикете id-коммита и отправляет тикет девлиду. Если коммитов было несколько в бранче, то их склеивают (squash) в один (git rebase -i);</li>&#x000A;  <li>Лид проверяет реализации, качество кода, тесты и общую работоспособность. В случае замечаний отправляется на доработку, либо сливает в ветку проекта (git merge). Дальше может сам закрыть тикет, либо и отправить руководителю. </li>&#x000A;</ul>&#x000A;&#x000A;<p>По аналогичной схеме формируются и другие задачи. Будь-то баг-фиксы или тестирование.</p>&#x000A;&#x000A;<h2 id="section-3">Внедрение нового разработчика в команду</h2>&#x000A;&#x000A;<p>Разворачивается своё локальное рабочее окружение, примерно по такой инструкции:&#x000A;* клонирование репозитория;&#x000A;* настройка конфигов проекта;&#x000A;* установка rvm, ruby, gems и других зависимостей;&#x000A;* установка СУБД, создание баз и запуск миграций.</p>&#x000A;&#x000A;<p>При этом время затраченное на установку также фиксируется в estimates-разработчика.</p>&#x000A;&#x000A;<h2 id="section-4">Выкатывание релизов</h2>&#x000A;&#x000A;<p>Деплоем занимается руководитель проекта. Прогоняются тесты и с помощью capistrano выкладывается обновление на всех серверах. </p>&#x000A;&#x000A;<h2 id="section-5">Рекомендации</h2>&#x000A;&#x000A;<ul>&#x000A;  <li>Разработчикам в начале рабочего дня рекомендуется забирать последнюю версию проекта (git pull) и обновлять свою ветку (git rebase master);</li>&#x000A;  <li>В комментарии коммита можно указывать номер тикета. Это будет полезно при изучении истории коммитов (git log);</li>&#x000A;  <li>Крупные задачи можно разбить на несколько тикетов и раздать нескольким разработчикам;</li>&#x000A;  <li>Весь код желательно покрывать блочными и интеграционным тестами. Они помогут держать проект в рабочем состоянии;</li>&#x000A;  <li>Частый рефакторинг и code-review удерживают проект от загнивания.</li>&#x000A;</ul>
        <h4 class='meta'>
          <div class='tags'>
            <a href="/dev/tags/git/">git</a>
          </div>
        </h4>
      </article>
    </section>
    <script src="/javascripts/application.js" type="text/javascript"></script>
  </body>
</html>

